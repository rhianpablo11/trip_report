<html>
    <head>
        <title>Relatorio de Viagem</title>
        <link rel="icon" href="https://lh3.googleusercontent.com/pw/AJFCJaWikDi1SodH0YmzGLCgdjdviTCPf9vbp57MglaLq_kIRrH6i7IRQxSPj6tR_mOMLMLcQTn0PkGUhDUvupg2jW6WJBANpzaidWKQjdTaN77Qu6NRJTwyxlYKQ6LqjqMDHUoW2of1l8v1o7HGwuRtV0KHaKus8M4aWbU-oLd7AqCOOV3kKgpK3g2Dl8Z0cYtt_ri_QrmtkKN6hZl9ZPCxOZ8tSb76yDbIcOrqg4BQoiWbDc9dlbWw8u4XHE1SuWRKzR6yPt4OalYMPSr5b2VW25PpWH5E5Ev9DfBzLH-VdKvoJrdfM1lc80LIdojzNjLlqV069qfkd33CJWalLOW9VZxiwvCDIsOL99sOGf_Sz0qzo_VHKv1MKWePXQ2dqTWyHGd8WWSlubQI1BQF6wfO6ZuydF8UPVruhPsJg72YNLpFyeFANzlEuiXfLcolV_GsgQcPVR2BkzJVcbAnxBnMsITtfefENipM_1ydoc_i8NieYkYzQ6RSGp7KwXbSWFCHR03W_yFYrJuW2TdKF0tFYN1ondzt7QCt3XrJd-q7ZAXpmExNKw96kJrt9A6Z04hi2Q2HVBA-TMP0StqrbfCt0ba0wV7ZKf04Ej6khtP-W5bewNp_yJrWhwy7sah_VhCvC5URiMS6Bwv6gpf96BsHPoLk0OunO8ZYnFarzjnjx2o03SfEAZeFXuZJNaf1estRdqHxj0j48GHXLfyQHarZAtINpfNmUqOVcaNtMMzk6NHsNXfZ72rKnUGn2pGc-gPcXkKJxTeIdYDtCTQIyYBz_jkPK2S_sS9fEXG1OsfStebPlRBKdK4kLXvNxB9DfquYqd54SHGNCU0mGattVH9-lSDCngCLiNc9FTH6CksZ2Omju71IvhAST0NRvPE3HSFVlSTGPIblPgbyOeXvQXGfJtuLtmdVxR7eiTiNhyI_ifs1UnLF82rQZnGVykj_Yb2wl_TiAVDSnqS1bLyq5POzVIjouXuaf2Wc8g=w192-h192-s-no?authuser=2">
        <meta charset="utf-8">
    </head>
    <script>
        
        function stringTratament(){
            let listaTransporte = String(prompt("Digite a lista do dia: ")).toLowerCase()
            let ida =0;
            let volta =0;
            let vespertino = 0;
            let idaVoltaAbsoluto =0;
            let idaVoltaVespertinoAbsoluto=0;
 
            listaTratada= listaTransporte.replace(/[^\w\s]+/gu, ' ').split(/\s*\.\s*|\s+/).filter(Boolean);
            
            for(let i=0; i<listaTratada.length; i++){
                if(listaTratada[i]=="ida" || listaTratada[i] =="idaa" || listaTratada[i] == "vai"){
                    ida++;
                }
                else if(listaTratada[i]=="volta"){
                    volta++;
                }
                else if(listaTratada[i]=="vespertino" || listaTratada[i] =="vesp"){
                    vespertino++;
                }
                if(listaTratada[i]=="volta" && (listaTratada[i-2]=="ida" || listaTratada[i-1]=="ida" || listaTratada[i-2]=="vai" || listaTratada[i-1]=="vai") ){
                    if((i+1)<=listaTratada.length && (listaTratada[i+1]=="vespertino" || listaTratada[i+1]=="vesp")){
                        idaVoltaVespertinoAbsoluto ++;
                    }
                    else if((i+1)<=listaTratada.length && (listaTratada[i+1]!="vespertino" || listaTratada[i+1]!="vesp")){
                        idaVoltaAbsoluto ++;
                    }
                }
                
            }
            volta -= vespertino;
            
            alert("Idas: "+ ida + "\nVolta: " + volta + "\nVolta Vespertino: "+vespertino + "\nIda e volta: " + idaVoltaAbsoluto + "\nIda e volta vespertino: " + idaVoltaVespertinoAbsoluto);
            
            return listaTransporte;
        }
        stringTratament();
    </script>
    <body>
        <h1>
            Site em construção
        </h1>
        <div id = "teste"></div>
        <h3>Recarregue a pagina para reutização</h3>
    </body>
</html>