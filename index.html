<html>
    <head>
        <title>Relatorio de Viagem</title>
        <link rel="icon" href="img/icon.png">
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="stylesheet" href="bootstrap4/css/bootstrap.css">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <script>
        
        function stringTratament(){
            let listaTransporte = String(prompt("Digite a lista do dia: ")).toLowerCase()
            let ida =0;
            let volta =0;
            let vespertino = 0;
            let idaVoltaAbsoluto =0;
            let idaVoltaVespertinoAbsoluto=0;
 
            listaTratada= listaTransporte.replace(/[^\w\s]+/gu, ' ').split(/\s*\.\s*|\s+/).filter(Boolean);
            
            for(let i=0; i<listaTratada.length; i++){
                if(listaTratada[i]=="ida" || listaTratada[i] =="idaa" || listaTratada[i] == "vai"){
                    ida++;
                }
                else if(listaTratada[i]=="volta"){
                    volta++;
                }
                else if(listaTratada[i]=="vespertino" || listaTratada[i] =="vesp"){
                    vespertino++;
                }
                if(listaTratada[i]=="volta" && (listaTratada[i-2]=="ida" || listaTratada[i-1]=="ida" || listaTratada[i-2]=="vai" || listaTratada[i-1]=="vai") ){
                    if((i+1)<=listaTratada.length && (listaTratada[i+1]=="vespertino" || listaTratada[i+1]=="vesp")){
                        idaVoltaVespertinoAbsoluto ++;
                    }
                    else if((i+1)<=listaTratada.length && (listaTratada[i+1]!="vespertino" || listaTratada[i+1]!="vesp")){
                        idaVoltaAbsoluto ++;
                    }
                }
                
            }
            volta -= vespertino;
            
            alert("Idas: "+ ida + "\nVolta: " + volta + "\nVolta Vespertino: "+vespertino);
            
            return listaTransporte;
        }
        stringTratament();
    </script>
    <body>
        <div class="primary"></div>
            
            <div id = "interna">
                <h1>
                    Site em construção
                </h1>
                <h3>Recarregue a pagina para reutização</h3>
            </div>
            
        
        
    </body>
</html>